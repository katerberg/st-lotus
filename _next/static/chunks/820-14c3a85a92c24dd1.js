"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[820],{40820:function(s,l,r){r.d(l,{Z:function(){return StLotusDecks}});var c=r(24670),e=r(57437),t=r(2265),a=r(74275),o=r.n(a),n=o().shape({apiName:o().string.isRequired,displayName:o().string.isRequired,image:o().string.isRequired,uri:o().string.isRequired,type:o().string.isRequired,cmc:o().number.isRequired,colors:o().arrayOf(o().string).isRequired}),i=o().shape({date:o().string.isRequired,player:o().string.isRequired,genre:o().string.isRequired,seat:o().number.isRequired,wins:o().number,losses:o().number,stLotus:o().number,decklist:o().arrayOf(n).isRequired,sideboard:o().arrayOf(n).isRequired}),f=r(88938),y=r(57028),m=r(54986),d=r(39190),u=r(80230),p=r(28874),b=r(43226),h=r(35266),g=r(25210),v=r(80356),x=r(1993),R=r(49050),j=r(60851),C=r(77261),Z=r(13457),k=r(29222),S=r(43628);function CardStats(s){var l=s.card,r=(0,c._)((0,t.useState)(null),2),a=r[0],o=r[1];return(0,t.useEffect)(function(){k.Z.get("".concat(S.v.API_CARD_URL).concat(encodeURIComponent(l.apiName),"?premier")).then(function(s){o(s.data)}).catch(function(){o(null)})},[l]),(0,e.jsx)(p.ZP,{container:!0,direction:"column",sx:{paddingLeft:"20px",paddingRight:"20px"},children:(0,e.jsxs)(Z.Z,{children:[(0,e.jsx)(b.Z,{children:a?"Taken in ".concat(a.numberTaken," of ").concat(a.numberAvailable," drafts"):(0,e.jsx)(C.Z,{variant:"text"})}),(0,e.jsx)(b.Z,{children:a?"Usually taken in round ".concat(a.averageRound):(0,e.jsx)(C.Z,{variant:"text"})})]})})}CardStats.propTypes={card:n.isRequired};var B=(0,d.Z)("img")({width:"300px",height:"429px",marginBottom:"-6px"}),P=(0,d.Z)("span")({flexGrow:1});function Card(s){var l=s.card,r=s.prefix,a=(0,c._)((0,t.useState)(null),2),o=a[0],n=a[1],i=(0,t.useRef)(),handleTooltipClose=function(){n(null)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(v.ZP,{button:!0,onClick:function(s){n(s.target)},ref:i,sx:{width:"100%"},children:[(0,e.jsx)(b.Z,{sx:{flexGrow:1},children:(0,e.jsxs)(P,{children:[void 0!==r?"".concat(r," "):"",l.displayName]})}),(0,e.jsx)(j.Z,{manaCost:l.manaCost})]}),(0,e.jsxs)(x.ZP,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"left"},container:i.current,onClick:handleTooltipClose,onClose:handleTooltipClose,open:!!o,transformOrigin:{vertical:"bottom",horizontal:"left"},children:[(0,e.jsx)(g.Z,{href:l.uri,rel:"noreferrer",sx:{display:"block"},target:"_blank",children:(0,e.jsx)(R.Z,{sx:{width:"100%"},variant:"contained",children:"See in Scryfall"})}),(0,e.jsx)(B,{src:l.image}),(0,e.jsx)(CardStats,{card:l})]})]})}Card.propTypes={card:n.isRequired,prefix:o().string};var q=r(83304);function DeckSection(s){var l=s.cards,r=s.title,c=s.sort,a=(0,t.useCallback)(function(s){return"pick"===c?"".concat(s.pickOrder,": "):""},[c]);return(0,e.jsxs)(q.Z,{children:[r&&(0,e.jsx)(q.Z,{sx:{"> img":{height:"2rem"},textAlign:"center"},children:(0,e.jsx)(j.Z,{manaCost:"{".concat(r,"}")})}),(0,e.jsx)(h.Z,{component:"nav",children:l.map(function(s){return(0,e.jsxs)(t.Fragment,{children:[(0,e.jsx)(Card,{card:s,prefix:"".concat(a(s))}),(0,e.jsx)(m.Z,{})]},s.displayName)})})]})}DeckSection.propTypes={cards:o().arrayOf(n).isRequired,title:o().string,sort:o().string.isRequired};var _=r(84081),T=r(31329),U=r(50819),w=r(74309);function SortSelector(s){var l=s.onChange,r=s.value,c=(0,t.useCallback)(function(s){return l(s.target.value)},[l]);return(0,e.jsxs)(_.Z,{sx:{marginTop:"10px"},children:[(0,e.jsx)(U.Z,{children:"Sort"}),(0,e.jsxs)(T.Z,{label:"Sort",onChange:c,value:r,children:[(0,e.jsx)(w.Z,{value:"color",children:"Color"}),(0,e.jsx)(w.Z,{value:"pick",children:"Pick Order"}),(0,e.jsx)(w.Z,{value:"cmc",children:"Mana Value"})]})]})}SortSelector.propTypes={onChange:o().func.isRequired,value:o().string.isRequired};var G=r(35029),O=["C","W","U","B","R","G","M","L"],sortGroupByColor=function(s,l){return O.indexOf(s.title)-O.indexOf(l.title)},sortCardByName=function(s,l){return s.displayName<l.displayName?-1:s.displayName>l.displayName?1:0};function sortByColor(s){return Object.entries(s.reduce(function(s,l){var r=(0,G._)({},s),c=0===l.colors.length?l.type.includes("Land")?"L":"C":l.colors.length>1?"M":l.colors[0];return void 0===r[c]&&(r[c]=[]),r[c].push(l),r},{})).map(function(s){var l=(0,c._)(s,2);return{title:l[0],cards:l[1].sort(function(s,l){return s.cmc-l.cmc||sortCardByName(s,l)},[])}}).sort(sortGroupByColor,[])}function sortByCmc(s){return Object.entries(s.reduce(function(s,l){var r=(0,G._)({},s);return void 0===r[l.cmc]&&(r[l.cmc]=[]),r[l.cmc].push(l),r},{})).map(function(s){var l=(0,c._)(s,2);return{title:l[0],cards:l[1].sort(function(s,l){return sortCardByName(s,l)},[])}}).sort(function(s,l){return s.title-l.title},[])}var W=(0,d.Z)(b.Z)({marginLeft:"1rem"});function Deck(s,l){var r=s.deck,a=(0,c._)((0,t.useState)("color"),2),o=a[0],n=a[1],i=(0,t.useMemo)(function(){return"cmc"===o?sortByCmc(r.decklist):"color"===o?sortByColor(r.decklist):[{title:"",cards:r.decklist.concat(r.sideboard).sort(function(s,l){return s.pickOrder-l.pickOrder})}]},[r,o]),f=(0,t.useMemo)(function(){return"cmc"===o?sortByCmc(r.sideboard):"color"===o?sortByColor(r.sideboard):null},[r,o]),y=(0,t.useCallback)(function(){return"pick"===o||1===i.length?1:2===i.length?{xs:1,sm:2}:{xs:1,sm:2,md:3}},[o,i]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(p.ZP,{container:!0,ref:l,sx:{paddingTop:12},children:[(0,e.jsxs)(p.ZP,{flexGrow:1,item:!0,children:[(0,e.jsx)(b.Z,{variant:"h3",children:r.genre}),(0,e.jsxs)(W,{children:["".concat(r.player),void 0!==r.wins&&void 0!==r.losses?" (".concat(r.wins,"-").concat(r.losses,")"):""]}),(0,e.jsx)(W,{children:r.date}),(0,e.jsx)(W,{children:"Seat: ".concat(r.seat)})]}),(0,e.jsx)(p.ZP,{item:!0,sx:{display:"flex",alignItems:"end"},children:(0,e.jsx)(SortSelector,{onChange:function(s){n(s)},value:o})})]}),(0,e.jsx)("hr",{}),(0,e.jsx)(u.ZP,{columns:y(),sx:{marginTop:"20px"},children:i.map(function(s){return(0,e.jsx)(DeckSection,{cards:s.cards,sort:o,title:s.title},s.title)})}),f&&0!==f.length&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(b.Z,{variant:"h4",children:"Sideboard"}),(0,e.jsx)(m.Z,{}),(0,e.jsx)(p.ZP,{sx:{background:"#eee",borderBottomRightRadius:"8px",borderBottomLeftRadius:"8px",paddingTop:"20px",paddingBottom:"20px"},children:(0,e.jsx)(u.ZP,{columns:y(),sx:{marginTop:"20px"},children:f.map(function(s){return(0,e.jsx)(DeckSection,{cards:s.cards,sort:o},s.title)})})})]})]})}var D=t.forwardRef(Deck);Deck.propTypes={deck:i.isRequired};var L=r(60987),N=r(39227),A=r(76583),E=(0,d.Z)(N.Z)({boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)",position:"fixed",paddingTop:"8px",background:"white",zIndex:1200,top:"56px",width:"100%",left:"0"});function DeckSelector(s){var l=s.decks,r=s.references,a=(0,c._)((0,t.useState)(""),2),o=a[0],n=a[1],i=(0,t.useCallback)(function(){if(null==r?void 0:r.length){var s,l,c=r.map(function(s){var l;return s?null==s?void 0:null===(l=s.ref)||void 0===l?void 0:l.current.getBoundingClientRect().top:0}).findIndex(function(s){return s>100});n(null===(l=r[c-1<0?r.length-1:c-1])||void 0===l?void 0:null===(s=l.ref)||void 0===s?void 0:s.current)}},[r]);(0,t.useEffect)(function(){return window.addEventListener("scroll",i),function(){window.removeEventListener("scroll",i)}},[i]);var f=(0,t.useCallback)(function(s){s.target.value&&(s.target.value.scrollIntoView({block:"start",behavior:"smooth"}),n(s.target.value))},[]),y=(0,A.Z)({disableHysteresis:!0,threshold:500});return(0,e.jsx)(L.Z,{appear:!1,direction:"down",in:y,children:(0,e.jsx)(E,{children:(0,e.jsxs)(_.Z,{fullWidth:!0,children:[(0,e.jsx)(U.Z,{children:"Deck"}),(0,e.jsx)(T.Z,{label:"Deck",onChange:f,value:o,children:l.map(function(s,l){var c,t;return(0,e.jsx)(w.Z,{value:null===(t=r[l])||void 0===t?void 0:null===(c=t.ref)||void 0===c?void 0:c.current,children:"".concat(s.genre," - ").concat(s.player)},s.player)})})]})})})}function StLotusDecks(s){var l=s.number,r=s.children,a=s.decks,o=(0,c._)((0,t.useState)([]),2),n=o[0],i=o[1];return(0,t.useEffect)(function(){i(a.map(function(s){return{ref:(0,t.createRef)(),deck:s}}))},[a]),(0,e.jsxs)(f.Z,{maxWidth:"md",children:[(0,e.jsx)(y.Z,{component:"h1",sx:{marginTop:10},variant:"h2",children:"St Lotus ".concat(l)}),r,(0,e.jsx)(DeckSelector,{decks:a,references:n}),a.map(function(s,l){var r;return(0,e.jsx)(D,{deck:s,ref:null===(r=n[l])||void 0===r?void 0:r.ref},l)})]})}DeckSelector.propTypes={decks:o().arrayOf(o().shape({genre:o().string.isRequired,player:o().string.isRequired})).isRequired,references:o().arrayOf(o().shape({ref:o().shape({current:o().object})})).isRequired},StLotusDecks.propTypes={number:o().number.isRequired,decks:o().arrayOf(i).isRequired,children:o().node.isRequired}},57028:function(s,l,r){var c=r(43226),e=(0,r(39190).Z)(c.Z)(function(s){return{marginBottom:s.theme.spacing(2)}});l.Z=e},43628:function(s,l,r){r.d(l,{v:function(){return c}});var c={API_CARD_URL:"https://api.stlotus.org:444/cards/",API_SYNERGIES_URL:"https://api.stlotus.org:444/cards/{CARD_NAME}/synergies",API_TOP_CARDS_URL:"https://api.stlotus.org:444/best-cards",API_DECK_URL:"https://api.stlotus.org:444/cards"}},60851:function(s,l,r){r.d(l,{Z:function(){return ManaCost}});var c=r(57437);r(2265);var e=r(74275),t=r.n(e),a=r(39190),o=JSON.parse('{"{T}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/T.svg","{Q}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/Q.svg","{E}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/E.svg","{PW}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/PW.svg","{CHAOS}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/CHAOS.svg","{A}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/A.svg","{X}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/X.svg","{Y}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/Y.svg","{Z}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/Z.svg","{0}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/0.svg","{\xbd}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/HALF.svg","{1}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/1.svg","{2}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2.svg","{3}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/3.svg","{4}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/4.svg","{5}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/5.svg","{6}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/6.svg","{7}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/7.svg","{8}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/8.svg","{9}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/9.svg","{10}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/10.svg","{11}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/11.svg","{12}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/12.svg","{13}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/13.svg","{14}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/14.svg","{15}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/15.svg","{16}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/16.svg","{17}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/17.svg","{18}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/18.svg","{19}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/19.svg","{20}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/20.svg","{100}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/100.svg","{1000000}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/1000000.svg","{âˆž}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/INFINITY.svg","{W/U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/WU.svg","{W/B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/WB.svg","{B/R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/BR.svg","{B/G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/BG.svg","{U/B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/UB.svg","{U/R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/UR.svg","{R/G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/RG.svg","{R/W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/RW.svg","{G/W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/GW.svg","{G/U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/GU.svg","{2/W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2W.svg","{2/U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2U.svg","{2/B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2B.svg","{2/R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2R.svg","{2/G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2G.svg","{P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/P.svg","{W/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/WP.svg","{U/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/UP.svg","{B/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/BP.svg","{R/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/RP.svg","{G/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/GP.svg","{HW}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/HW.svg","{HR}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/HR.svg","{W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/W.svg","{U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/U.svg","{B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/B.svg","{R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/R.svg","{G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/G.svg","{C}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/C.svg","{S}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/S.svg"}'),n=(0,a.Z)("img")({height:"1rem",verticalAlign:"middle"});function ManaCost(s){var l=s.manaCost.split("}").filter(function(s){return s}).map(function(s){return"{M"===s?"/mana-cost/gold.svg":"{L"===s?"/mana-cost/land.svg":o["".concat(s,"}")]});return(0,c.jsx)(c.Fragment,{children:l.map(function(s,l){return(0,c.jsx)(n,{alt:"mana symbol",src:s},l)})})}ManaCost.propTypes={manaCost:t().string.isRequired}}}]);