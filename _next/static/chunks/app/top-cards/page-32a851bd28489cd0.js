(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6104],{61193:function(s,l,c){Promise.resolve().then(c.bind(c,13483))},13483:function(s,l,c){"use strict";c.r(l),c.d(l,{default:function(){return TopCards}});var r=c(24670),a=c(57437),t=c(2265),e=c(97188),o=c(43226),n=c(88938),i=c(28702),f=c(28874),m=c(16687),y=c(50044),d=c(54829),u=c(43628),hooks_useTopCardStats=function(s){var l=(0,r._)((0,t.useState)([]),2),c=l[0],a=l[1],e=(0,r._)((0,t.useState)(!1),2),o=e[0],n=e[1],i=(0,t.useCallback)(function(){return d.Z.get("".concat(u.v.API_TOP_CARDS_URL).concat(s.length?"?".concat(s.reduce(function(s,l){return"".concat(s,"colorAnd=").concat(l,"&")},"")):""))},[s]);return(0,t.useEffect)(function(){(0,m._)(function(){return(0,y.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n(!0),[4,i()];case 1:return a(s.sent().data),[3,3];case 2:return s.sent(),a([]),n(!1),[3,3];case 3:return[2]}})})()},[i]),{stats:c,loading:o}},h=c(86840),b=c(74275),p=c.n(b),g=c(39190),hooks_useCardImage=function(s){var l=(0,r._)((0,t.useState)(!1),2),c=l[0],a=l[1],e=(0,r._)((0,t.useState)("https://c1.scryfall.com/file/scryfall-cards/normal/front/b/3/b3a69a1c-c80f-4413-a6fd-ae54cabbce28.jpg?1559591595"),2),o=e[0],n=e[1],i=(0,r._)((0,t.useState)(null),2),f=i[0],u=i[1];return(0,t.useEffect)(function(){(0,m._)(function(){return(0,y.Jh)(this,function(l){try{a(!0),d.Z.get("https://api.scryfall.com/cards/named?fuzzy=".concat(encodeURIComponent(s))).then(function(s){var l,c,r,t,e,o=s.data;u(null);var i="https://c1.scryfall.com/file/scryfall-cards/normal/front/5/8/5865603c-0a5e-45c3-84e3-2dc3b4cf0cf7.jpg?1562915786";(null==o?void 0:o.image_uris)?i=null==o?void 0:null===(l=o.image_uris)||void 0===l?void 0:l.normal:(null==o?void 0:o.card_faces)&&(i=null==o?void 0:null===(r=o.card_faces[0])||void 0===r?void 0:null===(c=r.image_uris)||void 0===c?void 0:c.normal,(null==o?void 0:o.card_faces.length)>1&&u(null==o?void 0:null===(e=o.card_faces[1])||void 0===e?void 0:null===(t=e.image_uris)||void 0===t?void 0:t.normal)),n(i),a(!1)})}catch(s){n("https://c1.scryfall.com/file/scryfall-cards/normal/front/b/3/b3a69a1c-c80f-4413-a6fd-ae54cabbce28.jpg?1559591595"),a(!1)}return[2]})})()},[s]),{loadingImage:c,cardImage:o,cardBackFaceImage:f}},v=c(61396),x=c.n(v),C=c(1801),Z=(0,g.Z)(o.Z)(function(){return{whiteSpace:"nowrap",display:"inline-block"}}),_=(0,g.Z)(f.ZP)(function(s){var l=s.theme;return(0,h._)({maxWidth:"199px"},l.breakpoints.up("sm"),{maxWidth:"260px"})}),j=(0,g.Z)(f.ZP)({position:"relative","&:hover .text-overlay":{display:"flex"}}),R=(0,g.Z)(f.ZP)(function(s){return{display:"none",color:s.theme.palette.primary.main,backgroundColor:"rgba(0,0,0,0.3)",alignItems:"center",justifyContent:"center",position:"absolute",margin:"auto",width:"100%",height:"calc(100% - 6px)",top:0,borderRadius:"10px"}}),k=(0,g.Z)("img")({maxWidth:"100%"});function TopCard(s){var l=s.name,c=s.overallPick,r=s.averageRound,t=s.numberTaken,e=s.numberAvailable,n=hooks_useCardImage(l),i=n.loadingImage,m=n.cardImage;return i?null:(0,a.jsxs)(_,{item:!0,children:[(0,a.jsxs)(x(),{rel:"noopener noreferrer",target:"_blank",href:"/details?card=".concat(l),children:[(0,a.jsx)(o.Z,{noWrap:!0,variant:"h5",children:l.replace(/\w\S*/g,function(s){return s.charAt(0).toUpperCase()+s.substr(1).toLowerCase()})}),(0,a.jsxs)(j,{children:[(0,a.jsx)(k,{alt:"".concat(l," magic card"),src:m}),(0,a.jsx)(R,{className:"text-overlay",children:(0,a.jsx)(o.Z,{component:"span",variant:"h1",children:c})})]})]}),(0,a.jsx)(f.ZP,{container:!0,flexDirection:"row",children:(0,a.jsx)(f.ZP,{container:!0,item:!0,sx:{paddingLeft:2},xs:12,children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z,{color:"text.secondary",variant:"subtitle1",children:"Picked ".concat(t," of ").concat(e," drafts")}),(0,a.jsx)(Z,{color:"text.secondary",variant:"subtitle1",children:"Average pick round ".concat(r)})]}):(0,a.jsx)(o.Z,{color:"text.secondary",variant:"subtitle1",children:"Unpicked"})})})]},l)}TopCard.propTypes={name:p().string.isRequired,overallPick:p().number.isRequired,averageRound:p().number.isRequired,numberTaken:p().number.isRequired,numberAvailable:p().number.isRequired};var P=c(22135),A=c(21975),W=c(81679),S=c(52653),w=c(50817),I=c(48389),U=c(41101),T=c(28922),hooks_useDraftCsv=function(s){var l=(0,r._)((0,t.useState)(!1),2),c=l[0],a=l[1],e=(0,r._)((0,t.useState)([]),2),o=e[0],n=e[1],i=(0,t.useCallback)((0,m._)(function(){var l;return(0,y.Jh)(this,function(c){switch(c.label){case 0:if(c.trys.push([0,2,,3]),!s)return n([]),a(!1),[2];return a(!0),[4,d.Z.get(s)];case 1:return l=c.sent().data,n((0,T.Q)(l,{columns:!0,skip_empty_lines:!0}).filter(function(s){return s&&(""===s[""]||s[""].match(/\d+/))}).reduce(function(s,l){return(0,C._)(s).concat((0,C._)(Object.entries(l).map(function(s){var l=(0,r._)(s,2),c=l[0],a=l[1];return c&&a?a.toLowerCase():""}).filter(function(s){return s})))},[])),a(!1),[3,3];case 2:return c.sent(),a(!1),n([]),[3,3];case 3:return[2]}})}),[s]);return(0,t.useEffect)(function(){i();var s=setInterval(function(){i()},5e3);return function(){return clearInterval(s)}},[i,s]),{loading:c,picks:o}},B=c(24033),E=c(60851),G=c(80504),L=c(67070),D="top-cards-draft";function TopCards(){var s=(0,B.useSearchParams)(),l=(0,r._)((0,t.useState)(s.getAll("color")),2),c=l[0],m=l[1],y=hooks_useTopCardStats(c).stats,d=(0,r._)((0,t.useState)(""),2),u=d[0],h=d[1],b=(0,t.useCallback)(function(s){h(s.target.value),window.localStorage.setItem(D,s.target.value)},[h]);(0,t.useEffect)(function(){h(window.localStorage.getItem(D)||"")},[]);var p=(0,U.Z)(),g=(0,P.Z)(p.breakpoints.up("sm"))?"3rem":"2rem",v=(0,t.useCallback)(function(){return b({target:{value:""}})},[b]),x=hooks_useDraftCsv(function(s){if(!s)return"";var l=s.trim(),c=RegExp("https://docs.google.com/spreadsheets/d/(.*)/edit").exec(l);if(!c||!c[1])return"";var r=c[1],a="https://docs.google.com/spreadsheets/d/".concat(r,"/export?format=csv"),t=l.split("#gid=")[1];return t?a+"&gid=".concat(t):a}(u)).picks,C=(0,t.useCallback)(function(s){return!x.some(function(l){return l===s||(null==s?void 0:s.match(RegExp("^"+l+" //","i")))})},[x]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.Z,{maxWidth:"lg",sx:{marginBottom:6},children:[(0,a.jsx)(i.Z,{component:"h1",sx:{marginTop:10},variant:"h2",children:"Top VRD Cards"}),(0,a.jsx)(o.Z,{paragraph:!0,children:"These are the current cards in the order they’re drafted. Every draft will be different, but this is the aggregate rating of the cards."}),(0,a.jsx)(o.Z,{paragraph:!0,children:"If you are participating in a draft, you can provide your draft URL and have this page track which cards have not yet been taken, or just select the cards as they are picked to filter them out."}),(0,a.jsx)(A.Z,{sx:{mb:2},fullWidth:!0,label:"Draft link to follow",variant:"standard",helperText:"Example: https://docs.google.com/spreadsheets/d/1AdrhWkDX7i9p2rZbEKzDs3nQAhCvcH0LAXZQNwWMsnA/edit#gid=1008615612",value:u,onChange:b,InputProps:{endAdornment:u&&(0,a.jsx)(W.Z,{position:"end",children:(0,a.jsx)(S.Z,{"aria-label":"clear draft input",onClick:v,children:(0,a.jsx)(G.G,{icon:e.$9F})})})}}),u&&!/^https:\/\/docs.google.com\/spreadsheets\/d\/[\d\w-]+\/edit(\?gid=\d+(#gid=\d+)?)?$/.test(u)&&(0,a.jsx)(L.Z,{severity:"error",children:"Invalid draft URL"}),(0,a.jsxs)(f.ZP,{container:!0,justifyContent:"flex-start",children:[(0,a.jsx)(o.Z,{variant:"h6",sx:{alignContent:"center",marginRight:"1rem"},children:"Colors:"}),(0,a.jsxs)(w.Z,{onChange:function(s,l){var c,r="bgruw";console.log(),c="c"===s.currentTarget.value?["c"]:l.filter(function(s){return"c"!==s}),window.history.replaceState(null,"","/top-cards".concat(c.length?"?":"").concat(c.sort(function(s,l){return r.indexOf(s)-r.indexOf(l)}).map(function(s){return"color=".concat(s)}).join("&"))),m(c)},value:c,children:[(0,a.jsx)(I.Z,{value:"w","aria-label":"white",children:(0,a.jsx)(E.Z,{height:g,manaCost:"{W}"})}),(0,a.jsx)(I.Z,{value:"u","aria-label":"blue",children:(0,a.jsx)(E.Z,{height:g,manaCost:"{U}"})}),(0,a.jsx)(I.Z,{value:"b","aria-label":"black",children:(0,a.jsx)(E.Z,{height:g,manaCost:"{B}"})}),(0,a.jsx)(I.Z,{value:"r","aria-label":"red",children:(0,a.jsx)(E.Z,{height:g,manaCost:"{R}"})}),(0,a.jsx)(I.Z,{value:"g","aria-label":"green",children:(0,a.jsx)(E.Z,{height:g,manaCost:"{G}"})}),(0,a.jsx)(I.Z,{value:"c","aria-label":"colorless",children:(0,a.jsx)(E.Z,{height:g,manaCost:"{C}"})})]})]})]}),(0,a.jsx)(f.ZP,{container:!0,justifyContent:"space-around",children:y.filter(function(s){return C(s.card)}).slice(0,100).map(function(s){return(0,a.jsx)(TopCard,{averageRound:s.averageRound,name:s.card,numberAvailable:s.numberAvailable,numberTaken:s.numberTaken,overallPick:s.overallPick+1},s.card)})})]})}},28702:function(s,l,c){"use strict";var r=c(43226),a=(0,c(39190).Z)(r.Z)(function(s){return{marginBottom:s.theme.spacing(2)}});l.Z=a},43628:function(s,l,c){"use strict";c.d(l,{v:function(){return r}});var r={API_CARD_URL:"https://api.stlotus.org:444/cards/",API_SYNERGIES_URL:"https://api.stlotus.org:444/cards/{CARD_NAME}/synergies",API_TOP_CARDS_URL:"https://api.stlotus.org:444/best-cards",API_DECK_URL:"https://api.stlotus.org:444/cards"}},60851:function(s,l,c){"use strict";c.d(l,{Z:function(){return ManaCost}});var r=c(57437);c(2265);var a=c(74275),t=c.n(a),e=c(39190),o=JSON.parse('{"{T}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/T.svg","{Q}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/Q.svg","{E}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/E.svg","{PW}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/PW.svg","{CHAOS}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/CHAOS.svg","{A}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/A.svg","{X}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/X.svg","{Y}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/Y.svg","{Z}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/Z.svg","{0}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/0.svg","{\xbd}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/HALF.svg","{1}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/1.svg","{2}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2.svg","{3}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/3.svg","{4}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/4.svg","{5}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/5.svg","{6}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/6.svg","{7}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/7.svg","{8}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/8.svg","{9}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/9.svg","{10}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/10.svg","{11}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/11.svg","{12}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/12.svg","{13}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/13.svg","{14}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/14.svg","{15}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/15.svg","{16}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/16.svg","{17}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/17.svg","{18}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/18.svg","{19}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/19.svg","{20}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/20.svg","{100}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/100.svg","{1000000}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/1000000.svg","{∞}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/INFINITY.svg","{W/U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/WU.svg","{W/B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/WB.svg","{B/R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/BR.svg","{B/G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/BG.svg","{U/B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/UB.svg","{U/R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/UR.svg","{R/G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/RG.svg","{R/W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/RW.svg","{G/W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/GW.svg","{G/U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/GU.svg","{2/W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2W.svg","{2/U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2U.svg","{2/B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2B.svg","{2/R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2R.svg","{2/G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2G.svg","{P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/P.svg","{W/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/WP.svg","{U/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/UP.svg","{B/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/BP.svg","{R/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/RP.svg","{G/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/GP.svg","{HW}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/HW.svg","{HR}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/HR.svg","{W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/W.svg","{U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/U.svg","{B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/B.svg","{R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/R.svg","{G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/G.svg","{C}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/C.svg","{S}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/S.svg"}'),n=(0,e.Z)("img")({verticalAlign:"middle"});function ManaCost(s){var l=s.manaCost,c=s.height,a=void 0===c?"1rem":c,t=l.split("}").filter(function(s){return s}).map(function(s){return"{M"===s?"/mana-cost/gold.svg":"{L"===s?"/mana-cost/land.svg":o["".concat(s,"}")]});return(0,r.jsx)(r.Fragment,{children:t.map(function(s,l){return(0,r.jsx)(n,{alt:"mana symbol",sx:{height:a},src:s},l)})})}ManaCost.propTypes={manaCost:t().string.isRequired}}},function(s){s.O(0,[2465,9338,3620,2726,940,5848,5462,1396,7188,8709,1726,2971,2472,1744],function(){return s(s.s=61193)}),_N_E=s.O()}]);