(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6104],{61193:function(s,l,r){Promise.resolve().then(r.bind(r,26646))},26646:function(s,l,r){"use strict";r.r(l),r.d(l,{default:function(){return TopCards}});var c=r(24670),a=r(57437),t=r(2265),e=r(43226),o=r(88938),n=r(28702),i=r(28874),f=r(16687),m=r(50044),y=r(54829),d=r(43628),hooks_useTopCardStats=function(s){var l=(0,c._)((0,t.useState)([]),2),r=l[0],a=l[1],e=(0,c._)((0,t.useState)(!1),2),o=e[0],n=e[1],i=(0,t.useCallback)(function(){return y.Z.get("".concat(d.v.API_TOP_CARDS_URL).concat(s.length?"?".concat(s.reduce(function(s,l){return"".concat(s,"colorAnd=").concat(l,"&")},"")):""))},[s]);return(0,t.useEffect)(function(){(0,f._)(function(){return(0,m.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n(!0),[4,i()];case 1:return a(s.sent().data),[3,3];case 2:return s.sent(),a([]),n(!1),[3,3];case 3:return[2]}})})()},[i]),{stats:r,loading:o}},u=r(86840),h=r(74275),b=r.n(h),g=r(39190),hooks_useCardImage=function(s){var l=(0,c._)((0,t.useState)(!1),2),r=l[0],a=l[1],e=(0,c._)((0,t.useState)("https://c1.scryfall.com/file/scryfall-cards/normal/front/b/3/b3a69a1c-c80f-4413-a6fd-ae54cabbce28.jpg?1559591595"),2),o=e[0],n=e[1],i=(0,c._)((0,t.useState)(null),2),d=i[0],u=i[1];return(0,t.useEffect)(function(){(0,f._)(function(){return(0,m.Jh)(this,function(l){try{a(!0),y.Z.get("https://api.scryfall.com/cards/named?fuzzy=".concat(encodeURIComponent(s))).then(function(s){var l,r,c,t,e,o=s.data;u(null);var i="https://c1.scryfall.com/file/scryfall-cards/normal/front/5/8/5865603c-0a5e-45c3-84e3-2dc3b4cf0cf7.jpg?1562915786";(null==o?void 0:o.image_uris)?i=null==o?void 0:null===(l=o.image_uris)||void 0===l?void 0:l.normal:(null==o?void 0:o.card_faces)&&(i=null==o?void 0:null===(c=o.card_faces[0])||void 0===c?void 0:null===(r=c.image_uris)||void 0===r?void 0:r.normal,(null==o?void 0:o.card_faces.length)>1&&u(null==o?void 0:null===(e=o.card_faces[1])||void 0===e?void 0:null===(t=e.image_uris)||void 0===t?void 0:t.normal)),n(i),a(!1)})}catch(s){n("https://c1.scryfall.com/file/scryfall-cards/normal/front/b/3/b3a69a1c-c80f-4413-a6fd-ae54cabbce28.jpg?1559591595"),a(!1)}return[2]})})()},[s]),{loadingImage:r,cardImage:o,cardBackFaceImage:d}},p=r(61396),v=r.n(p),x=r(34687),C=(0,g.Z)(e.Z)(function(){return{whiteSpace:"nowrap",display:"inline-block"}}),_=(0,g.Z)(i.ZP)(function(s){var l=s.theme;return(0,u._)({maxWidth:"199px"},l.breakpoints.up("sm"),{maxWidth:"260px"})}),Z=(0,g.Z)(i.ZP)({position:"relative","&:hover .text-overlay":{display:"flex"}}),j=(0,g.Z)(i.ZP)(function(s){return{display:"none",color:s.theme.palette.primary.main,backgroundColor:"rgba(0,0,0,0.3)",alignItems:"center",justifyContent:"center",position:"absolute",margin:"auto",width:"100%",height:"calc(100% - 6px)",top:0,borderRadius:"10px"}}),R=(0,g.Z)("img")({maxWidth:"100%"});function TopCard(s){var l=s.name,r=s.overallPick,c=s.averageRound,t=s.numberTaken,o=s.numberAvailable,n=hooks_useCardImage(l),f=n.loadingImage,m=n.cardImage;return f?null:(0,a.jsxs)(_,{item:!0,children:[(0,a.jsxs)(v(),{rel:"noopener noreferrer",target:"_blank",href:"/details?card=".concat(l),children:[(0,a.jsx)(e.Z,{noWrap:!0,variant:"h5",children:(0,x.LF)(l)}),(0,a.jsxs)(Z,{children:[(0,a.jsx)(R,{alt:"".concat(l," magic card"),src:m}),(0,a.jsx)(j,{className:"text-overlay",children:(0,a.jsx)(e.Z,{component:"span",variant:"h1",children:r})})]})]}),(0,a.jsx)(i.ZP,{container:!0,flexDirection:"row",children:(0,a.jsx)(i.ZP,{container:!0,item:!0,sx:{paddingLeft:2},xs:12,children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C,{color:"text.secondary",variant:"subtitle1",children:"Picked ".concat(t," of ").concat(o," drafts")}),(0,a.jsx)(C,{color:"text.secondary",variant:"subtitle1",children:"Average pick round ".concat(c)})]}):(0,a.jsx)(e.Z,{color:"text.secondary",variant:"subtitle1",children:"Unpicked"})})})]},l)}TopCard.propTypes={name:b().string.isRequired,overallPick:b().number.isRequired,averageRound:b().number.isRequired,numberTaken:b().number.isRequired,numberAvailable:b().number.isRequired};var k=r(22135),P=r(50817),T=r(48389),A=r(41101),S=r(28922),hooks_useDraftCsv=function(s){var l=(0,c._)((0,t.useState)(!1),2),r=l[0],a=l[1],e=(0,c._)((0,t.useState)([]),2),o=e[0],n=e[1],i=(0,t.useCallback)((0,f._)(function(){var l,r;return(0,m.Jh)(this,function(c){switch(c.label){case 0:if(c.trys.push([0,2,,3]),!s)return n([]),a(!1),[2];return a(!0),[4,y.Z.get(s)];case 1:return l=c.sent().data,r=(0,S.Q)(l,{columns:!0,skip_empty_lines:!0}),n((0,x.No)(r)),a(!1),[3,3];case 2:return c.sent(),a(!1),n([]),[3,3];case 3:return[2]}})}),[s]);return(0,t.useEffect)(function(){i();var s=setInterval(function(){i()},5e3);return function(){return clearInterval(s)}},[i,s]),{loading:r,picks:o}},U=r(24033),W=r(60851),w=r(4362);function TopCards(){var s=(0,U.useSearchParams)(),l=(0,c._)((0,t.useState)(s.getAll("color")),2),r=l[0],f=l[1],m=hooks_useTopCardStats(r).stats,y=(0,c._)((0,t.useState)(""),2),d=y[0],u=y[1],h=(0,A.Z)(),b=(0,k.Z)(h.breakpoints.up("sm"))?"3rem":"2rem",g=hooks_useDraftCsv(d).picks,p=(0,t.useCallback)(function(s){return!g.some(function(l){return l===s||(null==s?void 0:s.match(RegExp("^"+l+" //","i")))})},[g]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.Z,{maxWidth:"lg",sx:{marginBottom:6},children:[(0,a.jsx)(n.Z,{component:"h1",sx:{marginTop:10},variant:"h2",children:"Top VRD Cards"}),(0,a.jsx)(e.Z,{paragraph:!0,children:"These are the current cards in the order they’re drafted. Every draft will be different, but this is the aggregate rating of the cards."}),(0,a.jsx)(e.Z,{paragraph:!0,children:"If you are participating in a draft, you can provide your draft URL and have this page track which cards have not yet been taken, or just select the cards as they are picked to filter them out."}),(0,a.jsx)(w.Z,{localStorageKey:"top-cards-draft",onDraftCsvChange:u}),(0,a.jsxs)(i.ZP,{container:!0,justifyContent:"flex-start",children:[(0,a.jsx)(e.Z,{variant:"h6",sx:{alignContent:"center",marginRight:"1rem"},children:"Colors:"}),(0,a.jsxs)(P.Z,{onChange:function(s,l){var r,c="bgruw";console.log(),r="c"===s.currentTarget.value?["c"]:l.filter(function(s){return"c"!==s}),window.history.replaceState(null,"","/top-cards".concat(r.length?"?":"").concat(r.sort(function(s,l){return c.indexOf(s)-c.indexOf(l)}).map(function(s){return"color=".concat(s)}).join("&"))),f(r)},value:r,children:[(0,a.jsx)(T.Z,{value:"w","aria-label":"white",children:(0,a.jsx)(W.Z,{height:b,manaCost:"{W}"})}),(0,a.jsx)(T.Z,{value:"u","aria-label":"blue",children:(0,a.jsx)(W.Z,{height:b,manaCost:"{U}"})}),(0,a.jsx)(T.Z,{value:"b","aria-label":"black",children:(0,a.jsx)(W.Z,{height:b,manaCost:"{B}"})}),(0,a.jsx)(T.Z,{value:"r","aria-label":"red",children:(0,a.jsx)(W.Z,{height:b,manaCost:"{R}"})}),(0,a.jsx)(T.Z,{value:"g","aria-label":"green",children:(0,a.jsx)(W.Z,{height:b,manaCost:"{G}"})}),(0,a.jsx)(T.Z,{value:"c","aria-label":"colorless",children:(0,a.jsx)(W.Z,{height:b,manaCost:"{C}"})})]})]})]}),(0,a.jsx)(i.ZP,{container:!0,justifyContent:"space-around",children:m.filter(function(s){return p(s.card)}).slice(0,100).map(function(s){return(0,a.jsx)(TopCard,{averageRound:s.averageRound,name:s.card,numberAvailable:s.numberAvailable,numberTaken:s.numberTaken,overallPick:s.overallPick+1},s.card)})})]})}},4362:function(s,l,r){"use strict";r.d(l,{Z:function(){return DraftEntry}});var c=r(24670),a=r(57437),t=r(2265),e=r(74275),o=r.n(e),n=r(80504),i=r(97188),f=r(21975),m=r(81679),y=r(52653),d=r(67070),u=r(34687);function DraftEntry(s){var l=s.onDraftCsvChange,r=s.localStorageKey,e=void 0===r?"draft-entry-draft":r,o=(0,c._)((0,t.useState)(""),2),h=o[0],b=o[1],g=(0,t.useCallback)(function(s){b(s.target.value),l((0,u.C_)(s.target.value)),window.localStorage.setItem(e,s.target.value)},[l,e]),p=(0,t.useCallback)(function(){return g({target:{value:""}})},[g]);return(0,t.useEffect)(function(){var s=window.localStorage.getItem(e)||"";b(s),l((0,u.C_)(s))},[e,l]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Z,{sx:{mb:2},fullWidth:!0,label:"Draft link to follow",variant:"standard",helperText:"Example: https://docs.google.com/spreadsheets/d/1AdrhWkDX7i9p2rZbEKzDs3nQAhCvcH0LAXZQNwWMsnA/edit#gid=1008615612",value:h,onChange:g,InputProps:{endAdornment:h&&(0,a.jsx)(m.Z,{position:"end",children:(0,a.jsx)(y.Z,{"aria-label":"clear draft input",onClick:p,children:(0,a.jsx)(n.G,{icon:i.$9F})})})}}),h&&!u.zV.test(h)&&(0,a.jsx)(d.Z,{severity:"error",children:"Invalid draft URL"})]})}DraftEntry.propTypes={onDraftCsvChange:o().func.isRequired,localStorageKey:o().string}},28702:function(s,l,r){"use strict";var c=r(43226),a=(0,r(39190).Z)(c.Z)(function(s){return{marginBottom:s.theme.spacing(2)}});l.Z=a},43628:function(s,l,r){"use strict";r.d(l,{v:function(){return c}});var c={API_CARD_URL:"https://api.stlotus.org:444/cards/",API_SYNERGIES_URL:"https://api.stlotus.org:444/cards/{CARD_NAME}/synergies",API_TOP_CARDS_URL:"https://api.stlotus.org:444/best-cards",API_DECK_URL:"https://api.stlotus.org:444/cards",API_DRAFT_STATS_URL:"https://api.stlotus.org:444/draft-breakdown/{DRAFT_URL}"}},60851:function(s,l,r){"use strict";r.d(l,{Z:function(){return ManaCost}});var c=r(57437);r(2265);var a=r(74275),t=r.n(a),e=r(39190),o=JSON.parse('{"{T}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/T.svg","{Q}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/Q.svg","{E}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/E.svg","{PW}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/PW.svg","{CHAOS}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/CHAOS.svg","{A}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/A.svg","{X}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/X.svg","{Y}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/Y.svg","{Z}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/Z.svg","{0}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/0.svg","{\xbd}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/HALF.svg","{1}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/1.svg","{2}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2.svg","{3}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/3.svg","{4}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/4.svg","{5}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/5.svg","{6}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/6.svg","{7}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/7.svg","{8}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/8.svg","{9}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/9.svg","{10}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/10.svg","{11}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/11.svg","{12}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/12.svg","{13}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/13.svg","{14}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/14.svg","{15}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/15.svg","{16}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/16.svg","{17}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/17.svg","{18}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/18.svg","{19}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/19.svg","{20}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/20.svg","{100}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/100.svg","{1000000}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/1000000.svg","{∞}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/INFINITY.svg","{W/U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/WU.svg","{W/B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/WB.svg","{B/R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/BR.svg","{B/G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/BG.svg","{U/B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/UB.svg","{U/R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/UR.svg","{R/G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/RG.svg","{R/W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/RW.svg","{G/W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/GW.svg","{G/U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/GU.svg","{2/W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2W.svg","{2/U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2U.svg","{2/B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2B.svg","{2/R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2R.svg","{2/G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/2G.svg","{P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/P.svg","{W/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/WP.svg","{U/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/UP.svg","{B/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/BP.svg","{R/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/RP.svg","{G/P}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/GP.svg","{HW}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/HW.svg","{HR}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/HR.svg","{W}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/W.svg","{U}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/U.svg","{B}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/B.svg","{R}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/R.svg","{G}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/G.svg","{C}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/C.svg","{S}":"https://c2.scryfall.com/file/scryfall-symbols/card-symbols/S.svg"}'),n=(0,e.Z)("img")({verticalAlign:"middle"});function ManaCost(s){var l=s.manaCost,r=s.height,a=void 0===r?"1rem":r,t=l.split("}").filter(function(s){return s}).map(function(s){return"{M"===s?"/mana-cost/gold.svg":"{L"===s?"/mana-cost/land.svg":o["".concat(s,"}")]});return(0,c.jsx)(c.Fragment,{children:t.map(function(s,l){return(0,c.jsx)(n,{alt:"mana symbol",sx:{height:a},src:s},l)})})}ManaCost.propTypes={manaCost:t().string.isRequired}},34687:function(s,l,r){"use strict";r.d(l,{C_:function(){return docsLinkToCsv},LF:function(){return toTitleCase},No:function(){return csvToPicks},zV:function(){return t}});var c=r(24670),a=r(1801);function toTitleCase(s){return s.replace(/\w\S*/g,function(s){return s.charAt(0).toUpperCase()+s.substr(1).toLowerCase()})}var t=/^https:\/\/docs.google.com\/spreadsheets\/d\/[\d\w-]+\/edit(\?gid=\d+(#gid=\d+)?)?$/;function docsLinkToCsv(s){if(!s)return"";var l=s.trim(),r=RegExp("https://docs.google.com/spreadsheets/d/(.*)/edit").exec(l);if(!r||!r[1])return"";var c=r[1],a="https://docs.google.com/spreadsheets/d/".concat(c,"/export?format=csv"),t=l.split("#gid=")[1];return t?a+"&gid=".concat(t):a}function csvToPicks(s){return s.filter(function(s){return s&&(""===s[""]||s[""].match(/\d+/))}).reduce(function(s,l){return(0,a._)(s).concat((0,a._)(Object.entries(l).map(function(s){var l=(0,c._)(s,2),r=l[0],a=l[1];return r&&a?a.toLowerCase():""}).filter(function(s){return s})))},[])}}},function(s){s.O(0,[2465,9338,3620,2726,940,2616,4829,5462,7188,1396,2049,4126,2971,2472,1744],function(){return s(s.s=61193)}),_N_E=s.O()}]);